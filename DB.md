# 데이터베이스

## 1. 데이터베이스 개요

- 데이터베이스는 체계적으로 조직된 데이터의 집합으로 정보의 효율적인 저장과 관리가 가능함
- 다양한 애플리케이션에서 데이터의 일관성과 무결성을 유지하며 빠른 검색과 업데이트를 지원함
- 현대 사회에서 데이터의 중요성이 증대됨에 따라 데이터베이스의 필요성도 함께 증가함

### 1.1 데이터베이스의 정의와 필요성

- 데이터베이스는 데이터를 구조화하여 저장하고 관리하는 시스템
- 조직 내외부의 다양한 정보 요구를 충족시키기 위해 데이터의 중앙 집중화를 가능하게 함
- 데이터의 중복을 최소화하고 데이터 무결성을 유지하며 효율적인 데이터 접근과 관리를 지원

### 1.2 파일 시스템과 데이터베이스의 차이

- 파일 시스템은 데이터를 단순한 파일 형태로 저장하며 데이터 간의 관계를 관리하지 않음
- 데이터베이스는 데이터 간의 복잡한 관계를 구조적으로 관리하며 효율적인 데이터 접근을 가능하게 함
- 파일 시스템은 데이터 중복과 무결성 문제를 야기할 수 있으나 데이터베이스는 이를 최소화함

### 1.3 데이터베이스의 특징: 무결성, 일관성, 보안

- **무결성:** 데이터의 정확성과 신뢰성을 보장함
- **일관성:** 데이터가 항상 일관된 상태를 유지하도록 관리함
- **보안:** 데이터에 대한 접근을 통제하여 정보의 유출과 손상을 방지함

이러한 특징들은 데이터베이스 관리의 핵심 요소로 작용함

### 1.4 데이터베이스 관리 시스템(DBMS)의 역할과 구조

- DBMS는 데이터베이스의 생성, 관리, 유지보수를 담당함
- 사용자와 애플리케이션 간의 데이터 접근을 중재하며 데이터의 무결성과 보안을 유지함
- DBMS는 내부적으로 데이터 저장, 쿼리 처리, 트랜잭션 관리 등의 기능을 수행함

## 2. 데이터베이스 모델의 종류

데이터베이스 모델은 데이터를 구조화하고 관리하는 방식을 정의함  
주요 모델로는 관계형 데이터베이스, 비관계형 데이터베이스(NoSQL), 계층형 및 네트워크형 모델이 있음

### 2.1 관계형 데이터베이스 (Relational Database)

- 데이터를 테이블 형태로 구조화하며 테이블 간의 관계를 통해 데이터를 연결함
- SQL을 사용하여 데이터의 정의, 조작, 제어를 수행함

#### 2.1.1 관계형 데이터베이스의 개념

- 관계형 데이터베이스는 데이터를 테이블 형식으로 저장하며 테이블 간의 관계를 설정함
- 각 테이블은 행과 열로 구성되며, 행은 개별 레코드를, 열은 데이터 속성을 나타냄

#### 2.1.2 키의 종류

- **기본 키 (Primary Key):** 각 레코드를 고유하게 식별하는 속성임  
  - 테이블 내에서 유일해야 하며 중복되거나 NULL 값을 가질 수 없음

- **후보 키 (Candidate Key):** 테이블에서 유일하게 레코드를 식별할 수 있는 모든 속성 또는 속성의 조합임  
  - 하나의 후보 키가 기본 키로 선택될 수 있음

- **외래 키 (Foreign Key):** 다른 테이블의 기본 키를 참조하는 속성임  
  - 테이블 간의 관계를 설정하고 무결성을 유지함

#### 2.1.3 릴레이션 연산

- **셀렉션 (Selection):** 특정 조건을 만족하는 행을 선택함
- **프로젝션 (Projection):** 특정 열을 선택하여 새로운 테이블을 생성함
- **조인 (Join):** 두 개 이상의 테이블을 연결하여 관련 데이터를 결합함
- **집합 연산 (Union, Intersection, Difference):**
  - **유니온 (Union):** 두 테이블의 모든 행을 결합함
  - **인터섹션 (Intersection):** 두 테이블에 공통으로 존재하는 행을 반환함
  - **디퍼런스 (Difference):** 한 테이블에만 존재하는 행을 반환함

**사용 예:**
- 은행의 거래 시스템
- 기업의 ERP 시스템
- 온라인 쇼핑몰의 상품 및 고객 관리

### 2.2 비관계형 데이터베이스 (NoSQL)

- 유연한 스키마를 제공하여 다양한 데이터 형태를 지원함
- 대규모 데이터 처리와 분산 환경에 최적화되어 있음

**특징:**
- 키-값, 문서, 그래프, 컬럼 패밀리 등 다양한 데이터 모델을 포함함
- 수평적 확장이 용이함
- 비정형 데이터 저장에 적합함

**사용 예:**
- 소셜 미디어 데이터 저장
- 실시간 분석 시스템
- 콘텐츠 관리 시스템

### 2.3 계층형 및 네트워크형 모델

#### 2.3.1 계층형 모델

- 트리 구조를 기반으로 데이터 간의 부모-자식 관계를 표현함

**특징:**
- 데이터가 계층적으로 조직됨
- 각 자식 노드는 하나의 부모 노드에만 연결됨

**사용 예:**
- 파일 시스템의 디렉토리 구조
- 조직의 계층적 데이터 관리

#### 2.3.2 네트워크형 모델

- 그래프 구조를 활용하여 데이터 간의 다대다 관계를 관리함

**특징:**
- 데이터가 노드와 링크로 표현됨
- 복잡한 관계를 유연하게 표현 가능함

**사용 예:**
- 통신 네트워크 관리
- 소셜 네트워크 데이터 저장
- 물류 및 공급망 관리

**장점:**
- 복잡한 관계 표현 가능함
- 유연한 데이터 모델링 가능함

**단점:**
- 구조 변경이 복잡함
- 관리 및 유지보수가 어려움

## 데이터베이스 모델의 종류 비교

| 모델 유형   | 구조    | 주요특징  | 장점  | 단점  | 사용 예  |
|-----------|--------|--------|------|------|---------|
| **관계형**            | 테이블 (행과 열)                 | 데이터가 정형화되고, SQL을 통해 접근 가능              | 데이터 무결성 유지, 표준화된 쿼리 가능 | 확장성 부족, 복잡한 관계 표현 한계  | 은행 시스템, ERP 시스템               |
| **비관계형 (NoSQL)**   | 키-값, 문서, 그래프, 컬럼 패밀리 | 유연한 스키마, 고가용성 및 확장성                     | 비정형 데이터 지원, 수평적 확장 용이  | 복잡한 쿼리 한계, 데이터 일관성 부족 | 소셜 미디어, 실시간 분석 시스템       |
| **계층형**            | 트리 구조                        | 부모-자식 관계로 데이터 구성                          | 단순한 구조, 빠른 데이터 접근         | 유연성 부족, 관계 변경 어려움       | 파일 시스템 디렉토리, 조직 계층 관리 |
| **네트워크형**         | 그래프 구조                      | 데이터 간의 다대다 관계 표현 가능                     | 복잡한 관계 관리, 유연성              | 구조 변경 및 관리 어려움            | 통신 네트워크 관리, 소셜 네트워크     |

### 주요 비교 포인트
- **구조:** 데이터가 저장되는 방식 (테이블, 트리, 그래프 등)
- **특징:** 데이터 모델의 핵심적인 속성
- **장점과 단점:** 각 모델이 가진 강점과 약점
- **사용 예:** 실제로 활용되는 분야와 응용 사례


## 3. 데이터 모델링

데이터 모델링은 데이터베이스 설계의 핵심 단계로 데이터를 구조화하고 조직하는 과정임  
효과적인 데이터 모델링은 데이터의 일관성과 효율적인 관리에 기여함  
데이터 모델링 프로세스는 개념적 모델링, 논리적 모델링, 물리적 모델링으로 구성됨

### 3.1 데이터 모델링 개념과 프로세스

- 데이터 모델링은 현실 세계의 데이터를 추상화하여 데이터베이스에 적합한 형태로 표현함
- 주요 프로세스는 요구사항 분석, 개념적 설계, 논리적 설계, 물리적 설계로 나눔
- 요구사항 분석 단계에서는 사용자 요구와 시스템 요구를 수집함
- 개념적 설계 단계에서는 ER 다이어그램을 작성하여 데이터 구조를 시각화함
- 논리적 설계 단계에서는 데이터베이스 관리 시스템에 독립적인 논리적 구조를 정의함
- 물리적 설계 단계에서는 실제 데이터베이스 구현을 위한 물리적 저장 구조를 설계함

### 3.2 ER(Entity-Relationship) 다이어그램

ER 다이어그램은 데이터베이스의 구조를 시각적으로 표현하는 도구임  
엔터티, 속성, 관계를 통해 데이터 간의 연관성을 명확히 함

#### 엔터티, 속성, 관계

- **엔터티:** 독립적으로 존재할 수 있는 객체나 개념을 나타냄
- **속성:** 엔터티의 특성을 나타내는 데이터 필드임
- **관계:** 엔터티 간의 연관성을 표현함

**특징:**
- 데이터 구조를 직관적으로 이해할 수 있음
- 복잡한 데이터 관계를 명확하게 표현함

**사용 예:**
- 고객과 주문 간의 관계 표현
- 학생과 강의 간의 연관성 관리

**(ER다이어그램 예시 사진)**

### 3.3 정규화

정규화는 데이터 중복을 최소화하고 데이터 무결성을 유지하기 위한 과정임  
정규화를 통해 데이터베이스의 구조를 최적화함

#### 제1정규형(1NF), 제2정규형(2NF), 제3정규형(3NF)

- **제1정규형(1NF):** 각 테이블의 모든 필드가 원자 값을 가져야 함
- **제2정규형(2NF):** 1NF를 만족하며 부분 함수 종속을 제거함
- **제3정규형(3NF):** 2NF를 만족하며 이행적 함수 종속을 제거함

**장점:**
- 데이터 중복 최소화
- 데이터 무결성 유지
- 데이터베이스의 유연성 향상

**사용 예:**
- 고객 정보와 주문 정보를 별도의 테이블로 분리
- 직원과 부서 정보를 분리하여 관리

#### BCNF와 다섯 번째 정규형(5NF)

- **BCNF (보이스-코드 정규형):** 3NF를 강화한 정규형으로 모든 결정자가 후보 키임을 요구함
- **다섯 번째 정규형(5NF):** 모든 조인 종속성이 후보 키에 의해서만 결정됨을 요구함

**장점:**
- 데이터 무결성 더욱 강화
- 복잡한 데이터 관계에서도 일관성 유지

**사용 예:**
- 고도의 정규화가 필요한 금융 거래 데이터 관리
- 복잡한 다중 관계를 가진 연구 데이터베이스 설계

### 3.4 비정규화와 성능 최적화

비정규화는 데이터베이스의 성능 향상을 위해 정규화를 일부 의도적으로 해제하는 과정임  
비정규화를 통해 데이터 접근 속도를 높이고 쿼리 성능을 개선함

**특징:**
- 데이터 중복을 허용하여 조인 연산을 최소화함
- 읽기 성능을 향상시키지만 쓰기 성능은 저하될 수 있음

**장점:**
- 데이터 조회 속도 향상
- 복잡한 쿼리의 단순화

**단점:**
- 데이터 중복으로 인한 저장 공간 증가
- 데이터 일관성 유지가 어려워질 수 있음

**사용 예:**
- 대규모 웹 애플리케이션에서 빈번한 조회가 필요한 데이터
- 보고서 생성 시 성능 최적화를 위한 데이터 구조 변경

## 4. 관계형 데이터베이스

### 4.1 관계형 데이터베이스의 개념

- 관계형 데이터베이스는 데이터를 테이블 형식으로 저장하며 테이블 간의 관계를 설정함
- 각 테이블은 행과 열로 구성되며 행은 개별 레코드를, 열은 데이터 속성을 나타냄

### 4.2 키의 종류

#### 4.2.1 기본 키 (Primary Key)

- 각 레코드를 고유하게 식별하는 속성임
- 테이블 내에서 유일해야 하며 중복되거나 NULL 값을 가질 수 없음

#### 4.2.2 후보 키 (Candidate Key)

- 테이블에서 유일하게 레코드를 식별할 수 있는 모든 속성 또는 속성의 조합임
- 하나의 후보 키가 기본 키로 선택될 수 있음

#### 4.2.3 외래 키 (Foreign Key)

- 다른 테이블의 기본 키를 참조하는 속성임
- 테이블 간의 관계를 설정하고 무결성을 유지함

### 4.3 릴레이션 연산

#### 4.3.1 셀렉션 (Selection), 프로젝션 (Projection), 조인 (Join)

- **셀렉션 (Selection):** 특정 조건을 만족하는 행을 선택함
- **프로젝션 (Projection):** 특정 열을 선택하여 새로운 테이블을 생성함
- **조인 (Join):** 두 개 이상의 테이블을 연결하여 관련 데이터를 결합함

#### 4.3.2 집합 연산 (Union, Intersection, Difference)

- **유니온 (Union):** 두 테이블의 모든 행을 결합함
- **인터섹션 (Intersection):** 두 테이블에 공통으로 존재하는 행을 반환함
- **디퍼런스 (Difference):** 한 테이블에만 존재하는 행을 반환함

**사용 예:**
- 다양한 테이블에서 관련 데이터를 결합하여 통합된 정보를 생성함
- 특정 조건에 맞는 데이터를 추출하여 분석함

## 5. SQL

### 5.1 SQL의 개요와 구성

- SQL은 관계형 데이터베이스를 관리하기 위한 표준 언어임
- 데이터 정의, 데이터 조작, 데이터 제어, 트랜잭션 제어 기능을 포함함
- DDL, DML, DCL, TCL의 네 가지 주요 언어로 구성됨

### 5.2 데이터 정의 언어(DDL)

- **CREATE:** 새로운 데이터베이스 객체(테이블, 인덱스 등)를 생성함
- **ALTER:** 기존 데이터베이스 객체의 구조를 수정함
- **DROP:** 기존 데이터베이스 객체를 삭제함

### 5.3 데이터 조작 언어(DML)

- **SELECT:** 데이터를 조회함
- **INSERT:** 새로운 데이터를 삽입함
- **UPDATE:** 기존 데이터를 수정함
- **DELETE:** 데이터를 삭제함
- **JOIN과 서브쿼리:**
  - **JOIN:** 두 개 이상의 테이블을 연결하여 관련 데이터를 결합함
  - **서브쿼리:** 쿼리 내에 포함된 다른 쿼리로 복잡한 데이터 조회를 가능하게 함

### 5.4 데이터 제어 언어(DCL)

- **GRANT:** 사용자에게 특정 권한을 부여함
- **REVOKE:** 사용자로부터 특정 권한을 회수함

### 5.5 트랜잭션 제어 언어(TCL)

- **COMMIT:** 현재 트랜잭션을 완료하고 변경 사항을 영구적으로 저장함
- **ROLLBACK:** 현재 트랜잭션을 취소하고 이전 상태로 되돌림
- **SAVEPOINT:** 트랜잭션 내에서 특정 지점에 대한 저장점을 설정함

## 6. 트랜잭션과 동시성 제어

### 6.1 트랜잭션의 개념

- 트랜잭션은 데이터베이스에서 일련의 작업 단위를 의미함
- 트랜잭션은 모두 성공하거나 모두 실패하여 일관된 데이터 상태를 유지함

### 6.2 트랜잭션 특성(ACID)

- **원자성 (Atomicity):** 트랜잭션의 모든 작업이 완전히 수행되거나 전혀 수행되지 않음
- **일관성 (Consistency):** 트랜잭션이 완료된 후 데이터베이스는 일관된 상태를 유지함
- **격리성 (Isolation):** 동시에 실행되는 트랜잭션이 서로 간섭하지 않음
- **지속성 (Durability):** 트랜잭션이 완료된 후 그 결과는 영구적으로 저장됨

### 6.3 동시성 문제

#### 6.3.1 갱신 손실 (Lost Update)

- 두 트랜잭션이 같은 데이터를 동시에 업데이트할 때 발생함
- 한 트랜잭션의 업데이트가 다른 트랜잭션에 의해 덮어써지는 문제

#### 6.3.2 비일관성 읽기 (Dirty Read)

- 한 트랜잭션이 아직 커밋되지 않은 다른 트랜잭션의 데이터를 읽는 문제

#### 6.3.3 비반복 읽기 (Non-repeatable Read)

- 한 트랜잭션이 같은 데이터를 두 번 읽을 때 다른 트랜잭션에 의해 데이터가 변경되는 문제

### 6.4 트랜잭션 격리 수준

- **Read Uncommitted:** 트랜잭션이 커밋되지 않은 데이터를 읽을 수 있음
- **Read Committed:** 트랜잭션이 커밋된 데이터만 읽을 수 있음
- **Repeatable Read:** 트랜잭션 동안 같은 데이터를 반복해서 읽을 때 일관된 결과를 보장함
- **Serializable:** 트랜잭션을 직렬화하여 완벽한 격리를 보장함

### 6.5 동시성 제어 기법

- **잠금(Locking):** 데이터에 접근할 때 잠금을 걸어 동시 접근을 제어함
- **타임스탬프(Timestamp):** 트랜잭션에 타임스탬프를 부여하여 순서를 정하고 충돌을 방지함

## 7. 데이터베이스 설계

### 7.1 데이터베이스 설계 단계

- **요구사항 분석:** 사용자 및 시스템의 요구사항을 수집하고 분석함
- **논리적 설계:** 데이터베이스의 논리적 구조를 정의하며 ER 다이어그램을 기반으로 테이블과 관계를 설계함
- **물리적 설계:** 실제 데이터베이스 시스템에 맞게 물리적 저장 구조를 설계함 인덱스 및 파티셔닝 전략을 포함함

### 7.2 스키마 설계

- **개념 스키마:** 데이터베이스의 전체적인 구조와 개념을 정의함 ER 다이어그램을 사용함
- **논리 스키마:** 특정 데이터베이스 관리 시스템(DBMS)에 독립적인 논리적 구조를 정의함
- **물리 스키마:** 데이터베이스의 실제 물리적 저장 방식을 설계함 디스크 공간 할당과 인덱스 구조를 포함함

### 7.3 인덱스 설계

#### 7.3.1 클러스터드 인덱스와 비클러스터드 인덱스

- **클러스터드 인덱스:** 테이블의 데이터가 인덱스의 순서에 따라 물리적으로 정렬됨 하나의 테이블에 하나의 클러스터드 인덱스만 존재할 수 있음
- **비클러스터드 인덱스:** 인덱스는 데이터의 순서와 별도로 저장되며 하나의 테이블에 여러 개의 비클러스터드 인덱스를 가질 수 있음

#### 7.3.2 B-Tree, Hash 인덱스

- **B-Tree 인덱스:** 균형 이진 트리를 기반으로 하며 범위 검색에 효과적임
- **Hash 인덱스:** 해시 함수를 사용하여 데이터를 빠르게 조회함 정확한 매칭 검색에 유리함

**사용 예:**

- **클러스터드 인덱스:** 기본 키에 클러스터드 인덱스 설정 범위 기반 조회에 사용
- **비클러스터드 인덱스:** 자주 검색되는 열에 비클러스터드 인덱스 설정 조인 연산 최적화
- **B-Tree 인덱스:** 주문 번호 고객 ID 등의 범위 검색에 사용
- **Hash 인덱스:** 특정 키에 대한 빠른 조회가 필요한 캐싱 시스템

## 8. 데이터 무결성과 보안

### 8.1 무결성 제약 조건

- **기본 키 (Primary Key):** 각 레코드를 고유하게 식별함
- **외래 키 (Foreign Key):** 다른 테이블의 기본 키를 참조함
- **고유성 (Unique):** 특정 열의 값이 중복되지 않도록 함
- **도메인 (Domain):** 열이 가질 수 있는 값의 범위나 형식을 정의함

### 8.2 보안과 권한 관리

#### 8.2.1 사용자 인증과 역할

- 사용자 인증을 통해 데이터베이스 접근을 허용할 사용자 확인함
- 역할 기반 접근 제어를 통해 사용자에게 특정 권한 부여함

#### 8.2.2 데이터 암호화와 전송 보안

- 데이터 암호화를 통해 저장된 데이터의 기밀성을 유지함
- 전송 보안을 통해 데이터가 네트워크를 통해 이동할 때 보호함

## 9. 데이터베이스 성능 최적화

### 9.1 실행 계획(Execution Plan) 분석

- 실행 계획은 데이터베이스가 쿼리를 실행하는 방식을 설명함
- 실행 계획 분석을 통해 쿼리 성능을 최적화할 수 있음
- 주요 요소로는 테이블 스캔, 인덱스 사용, 조인 방법 등이 있음

### 9.2 쿼리 최적화

#### 9.2.1 인덱스 활용

- 인덱스를 사용하여 데이터 검색 속도를 향상시킴
- 적절한 인덱스 선택과 유지관리가 중요함
- 인덱스는 읽기 성능을 개선하지만 쓰기 성능을 저하시킬 수 있음

#### 9.2.2 정규화와 비정규화의 균형

- 정규화를 통해 데이터 중복을 최소화하고 무결성을 유지함
- 비정규화를 통해 성능을 향상시킬 수 있음
- 두 접근 방식의 균형을 통해 최적의 성능과 데이터 무결성을 유지함

### 9.3 파티셔닝

#### 9.3.1 수평 파티셔닝과 수직 파티셔닝

- **수평 파티셔닝:** 테이블의 행을 여러 파티션으로 나눔
- **수직 파티셔닝:** 테이블의 열을 여러 파티션으로 나눔
- 파티셔닝을 통해 데이터 접근 속도와 관리 효율성을 향상시킬 수 있음

### 9.4 샤딩과 데이터 분산

- 샤딩은 데이터를 여러 서버에 분산하여 저장함
- 데이터 분산을 통해 대규모 데이터베이스의 성능과 확장성을 향상시킴
- 샤딩은 데이터의 가용성과 장애 복구 능력을 강화함

## 10. 비관계형 데이터베이스 (NoSQL)

### 10.1 NoSQL 개요와 특징

- NoSQL은 관계형 데이터베이스의 한계를 극복하기 위해 개발된 비관계형 데이터베이스임
- 유연한 스키마를 제공하여 다양한 데이터 구조를 지원함
- 수평적 확장이 용이하여 대규모 데이터 처리에 적합함
- 고가용성과 분산 환경에서의 성능을 중시함
- 데이터 일관성보다는 가용성과 파티션 내성을 우선시함

### 10.2 NoSQL의 유형

#### 10.2.1 키-값 저장소: Redis, DynamoDB

- **Redis:** 인메모리 데이터 저장소로 빠른 데이터 접근이 가능함
- **DynamoDB:** AWS에서 제공하는 완전 관리형 키-값 및 문서 데이터베이스임

#### 10.2.2 문서형 데이터베이스: MongoDB, CouchDB

- **MongoDB:** JSON과 유사한 BSON 형식으로 데이터를 저장하며 유연한 스키마를 지원함
- **CouchDB:** JSON 문서를 저장하고, HTTP를 통해 접근할 수 있는 문서형 데이터베이스임

#### 10.2.3 열 기반 데이터베이스: Cassandra, HBase

- **Cassandra:** 높은 가용성과 확장성을 제공하며 대규모 데이터 분산 저장에 적합함
- **HBase:** Hadoop 생태계와 통합되어 대용량 데이터를 실시간으로 처리함

#### 10.2.4 그래프 데이터베이스: Neo4j

- **Neo4j:** 노드와 엣지를 사용하여 데이터 간의 복잡한 관계를 효율적으로 관리함
- 소셜 네트워크, 추천 시스템 등 관계 중심의 애플리케이션에 적합함

### 10.3 CAP 이론과 BASE 모델

- **CAP 이론:** 분산 시스템에서 일관성(Consistency), 가용성(Availability), 파티션 내성(Partition Tolerance) 중 두 가지를 동시에 만족시킬 수 있음
- **BASE 모델:** 기본적으로 가용성(Basically Available), 소프트 상태(Soft state), 최종 일관성(Eventual consistency)을 지향함
- CAP 이론과 BASE 모델은 NoSQL 데이터베이스가 관계형 데이터베이스와 다른 방식으로 데이터 일관성과 가용성을 관리함을 설명함

## 11. 분산 데이터베이스

### 11.1 분산 데이터베이스의 개념

- 분산 데이터베이스는 여러 물리적 위치에 분산된 컴퓨터 시스템에 데이터를 저장하고 관리함
- 데이터가 네트워크를 통해 연결된 여러 노드에 분산되어 저장되며, 이를 통해 데이터 접근성과 신뢰성을 향상시킴
- 분산 데이터베이스는 중앙 집중식 데이터베이스의 한계를 극복하고, 대규모 데이터 처리와 고가용성을 제공함

### 11.2 데이터 복제

- 데이터 복제는 여러 노드에 데이터를 복사하여 저장함으로써 데이터의 가용성과 신뢰성을 높임
- 복제된 데이터는 각 노드에서 독립적으로 접근 가능하며, 장애 발생 시 데이터 손실을 방지함

#### 11.2.1 마스터-슬레이브 복제

- 마스터-슬레이브 복제는 한 노드(마스터)가 데이터의 쓰기 작업을 담당하고, 다른 노드(슬레이브)는 읽기 작업을 담당함
- 마스터 노드에서 데이터 변경 사항이 슬레이브 노드로 전파됨
- 데이터 일관성을 유지하면서 읽기 성능을 향상시킴

#### 11.2.2 리더-팔로워 복제

- 리더-팔로워 복제는 리더 노드가 모든 쓰기 작업을 처리하고, 팔로워 노드가 리더를 따라 데이터를 동기화함
- 여러 팔로워 노드가 리더의 데이터를 복제하여 읽기 요청을 분산 처리함
- 고가용성과 읽기 성능을 동시에 개선할 수 있음

### 11.3 분산 트랜잭션

- 분산 트랜잭션은 여러 노드에 걸친 데이터베이스 작업을 하나의 트랜잭션으로 처리함
- 모든 참여 노드가 트랜잭션을 성공적으로 완료해야 트랜잭션이 커밋됨
- 분산 환경에서 데이터 일관성을 유지하기 위해 필수적임

#### 11.3.1 2PC(2-Phase Commit)

- 2단계 커밋 프로토콜은 분산 트랜잭션의 원자성을 보장하기 위해 사용됨
- **1단계 (Prepare Phase):** 트랜잭션 관리자(TM)가 모든 참여 노드에게 커밋 여부를 요청함
- **2단계 (Commit Phase):** 모든 노드가 준비 상태를 보고하면 트랜잭션 관리자가 커밋을 지시함, 그렇지 않으면 롤백을 지시함

### 11.4 분산 시스템의 데이터 일관성

- 분산 시스템에서는 여러 노드 간에 데이터 일관성을 유지하는 것이 중요함
- 일관성 모델은 데이터의 읽기 및 쓰기 작업이 어떻게 일관성을 유지할지 정의함

**특징:**
- 데이터 일관성을 유지하면서도 고가용성을 제공하기 위해 다양한 일관성 모델이 존재함
- 강력한 일관성부터 최종 일관성까지 다양한 수준의 일관성을 선택할 수 있음

**사용 예:**
- 금융 시스템에서의 일관된 거래 기록 관리
- 소셜 네트워크에서의 실시간 데이터 동기화
- 분산 캐싱 시스템에서의 데이터 일관성 유지

## 12. 데이터베이스 관리 및 백업

### 12.1 백업 전략

- **풀 백업 (Full Backup):** 전체 데이터베이스를 완전히 백업함
- **증분 백업 (Incremental Backup):** 마지막 백업 이후 변경된 데이터만 백업함
- **차등 백업 (Differential Backup):** 마지막 풀 백업 이후 변경된 모든 데이터를 백업함

### 12.2 장애 복구

#### 12.2.1 로그 기반 복구와 체크포인트

- **로그 기반 복구:** 데이터베이스의 모든 변경 사항을 로그에 기록하여 장애 발생 시 로그를 통해 복구함
- **체크포인트:** 특정 시점까지의 로그를 저장하여 복구 시 로그를 재생하는 시간을 단축함

### 12.3 데이터베이스 모니터링

- 데이터베이스의 성능과 상태를 실시간으로 감시함
- 주요 지표로는 CPU 사용률, 메모리 사용량, 쿼리 응답 시간, 디스크 I/O 등이 있음
- 모니터링 도구를 사용하여 이상 징후를 조기에 발견하고 대응함
- 정기적인 성능 튜닝과 자원 관리를 통해 데이터베이스의 효율성을 유지함

